syntax = "proto3";

package workplace;

service Workplace {
  rpc Send(Job) returns (Void) {}
  rpc Work(stream JobResult) returns (stream Job) {}
}

message Job {
  string name = 1;
  repeated string args = 2;
  enum Kind {
    IMMEDIATE = 0;
    SCHEDULED = 1;
    DELAYED = 2;
  }; 
  Kind kind = 3;
}

message Jobs {
  repeated Job jobs = 1; 
}

message JobResult {
  Job job = 1;
  enum Status {
    FAILED = 0;
    SUCCEEDED = 1;
  }
  Status status = 2;
  string info = 3;
}

message Void {}
